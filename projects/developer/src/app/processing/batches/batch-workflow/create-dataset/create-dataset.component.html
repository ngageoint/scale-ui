<div class="create-dataset p-grid" [formGroup]="form">
    <div class="p-col-12 margin-bottom-md">
        <div class="margin-bottom-md">
            <label>
                <span>Select an existing dataset or 'Create new'</span>
                <p-dropdown
                    formControlName="datasetSelected"
                    [options]="datasetOptions"
                    placeholder="Select a dataset"
                    [style]="{'width': '100%'}"
                    [filter]='true'
                    filterBy="label,value.name"
                    (onChange)="onDatasetSelectChange($event)"></p-dropdown>
            </label>
        </div>
    </div>
    <div *ngIf="selectedDataset === 'Create New'">
        <div class="p-col-12">
            <div class="margin-bottom-md">
                <label>
                    <span class="required">Title</span>
                    <input pInputText
                        id="title"
                        class="full-width"
                        formControlName="title"
                        type="text"/>
                </label>
            </div>
            <div class="margin-bottom-md">
                <label>
                    <span>Description</span>
                    <textarea pInputTextarea
                        id="description"
                        type="text"
                        formControlName="description"
                        rows="4"
                        maxLength="500"
                        pTooltip="Description has a 500 character limit."class="full-width"></textarea>
                </label>
            </div>
        </div>

        <div class="p-col-6">
            <p-fieldset>
                <p-header>
                    <span class="required">Required Fields</span>
                </p-header>
                <div class="p-grid">
                    <div class="ui-inputgroup p-col-12">
                        <label class="ui-inputgroup-addon" for="date-range-start">Start</label>
                        <p-calendar
                            inputId="date-range-start"
                            showButtonBar="true"
                            panelStyleClass="temporalDateFilter"
                            formControlName="startDate"
                            dateFormat="yy/mm/dd"
                            [monthNavigator]="true"
                            [yearNavigator]="true"
                            showTime="true"
                            hourFormat="24"
                            [showSeconds]="true">
                        </p-calendar>
                    </div>
                    <div class="ui-inputgroup p-col-12">
                        <label class="ui-inputgroup-addon" for="date-range-end">Stop</label>
                        <p-calendar
                            inputId="date-range-end"
                            showButtonBar="true"
                            panelStyleClass="temporalDateFilter"
                            formControlName="endDate"
                            dateFormat="yy/mm/dd"
                            [monthNavigator]="true"
                            [yearNavigator]="true"
                            showTime="true"
                            hourFormat="24"
                            [showSeconds]="true">
                        </p-calendar>
                    </div>
                </div>
            </p-fieldset>
        </div>

        <div class="p-col-6">
            <p-fieldset legend="Optional Fields">
                <div class="margin-bottom-md">
                    <label>
                        <span>Location</span>
                        <p-dropdown id="locationFilter"
                            [options]="locationOptions"
                            placeholder="Select a Location to filter results"
                            [style]="{'width': '100%'}"
                            [filter]='true'
                            filterBy="label,value.name"
                            (onChange)="onLocationFilterChange($event)">
                        </p-dropdown>
                    </label>
                </div>
                <div class="margin-bottom-md">
                    <label>
                        <span>Media Types</span>
                        <p-dropdown id="mediaTypesFilter"
                            [options]="mediaTypeOptions"
                            placeholder="Select a Media Types to filter results"
                            [style]="{'width': '100%'}"
                            [filter]='true'
                            filterBy="label,value.name"
                            (onChange)="onMediaTypeFilterChange($event)">
                        </p-dropdown>
                    </label>
                </div>
                <div class="margin-bottom-md">
                    <label>
                        <span>Recipe Types</span>
                        <p-dropdown id="recipeTypeFilter"
                            [options]="recipeTypeOptions"
                            placeholder="Select a Recipe Type to filter results"
                            [style]="{'width': '100%'}"
                            [filter]='true'
                            filterBy="label,value.name"
                            (onChange)="onRecipeTypeFilterChange($event)">
                        </p-dropdown>
                    </label>
                </div>
            </p-fieldset>
        </div>
    </div>

    <div class="p-col-12 ">
        <button pButton
            class="ui-button-primary create-dataset__controls-btn"
            label="Save"
            (click)="onSaveClick()"></button>
        <button pButton
            class="ui-button-primary create-dataset__controls-btn"
            label="Get Data Files"
            (click)="onGetDataFilesClick()"></button>
    </div>
    <!-- <p-table [value]="datasetList" [columns]="datasetColumns" [rows]="10" [loading]="datatableLoading" [autoLayout]="true"
                         [responsive]="true" resizableColumns="false"></p-table> -->
</div>
